{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/klliu/Desktop/WalthamForum/client/components/Housing.js\";\nimport React, { useState, useEffect } from 'react';\nimport useStickyState from \"../useStickyState.js\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from 'modal-react-native-web';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport Card from \"../container/Card.js\";\nimport { Button } from 'react-native-elements';\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport HouseRentForm from \"../container/HouseRentForm\";\nimport ApartmentDetails from \"./ApartmentDetails.js\";\nimport background from \"../assets/street.jpg\";\nimport { useAsyncStorage } from '@react-native-community/async-storage';\nexport default function Housing(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalOpen = _useState2[0],\n      setModalOpen = _useState2[1];\n\n  var _useState3 = useState([{\n    name: 'sample',\n    phone: '0000000000',\n    email: 'sample@gmail.com',\n    address: '000 Sample Street',\n    bedroom: '0',\n    bathroom: '0',\n    price: '0000',\n    startDate: '1/1',\n    endDate: '1/2',\n    comment: 'My house is good!'\n  }]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      apts = _useState4[0],\n      setApts = _useState4[1];\n\n  var _useAsyncStorage = useAsyncStorage('counter'),\n      getItem = _useAsyncStorage.getItem,\n      setItem = _useAsyncStorage.setItem;\n\n  var readItemFromStorage = function readItemFromStorage() {\n    var item, newValue;\n    return _regeneratorRuntime.async(function readItemFromStorage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(getItem());\n\n          case 2:\n            item = _context.sent;\n            newValue = JSON.parse(item);\n            setApts(newValue);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var writeItemToStorage = function writeItemToStorage(newValue) {\n    return _regeneratorRuntime.async(function writeItemToStorage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(setItem(JSON.stringify(newValue)));\n\n          case 2:\n            setApts(newValue);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    readItemFromStorage();\n  }, []);\n\n  var addApt = function addApt(apt) {\n    apt.key = Math.random().toString();\n    writeItemToStorage([apt].concat(_toConsumableArray(apts)));\n    setModalOpen(false);\n  };\n\n  var deleteItem = function deleteItem(key) {\n    var newApts = apts.filter(function (x) {\n      return x.key != key;\n    });\n    writeItemToStorage(newApts);\n  };\n\n  return React.createElement(ImageBackground, {\n    source: background,\n    style: styles.backgroundImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, React.createElement(Modal, {\n    visible: modalOpen,\n    animationType: \"slide\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.modelContent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    icon: React.createElement(Icon, {\n      style: {\n        marginRight: 4\n      },\n      name: \"close\",\n      size: 24,\n      color: \"white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }),\n    buttonStyle: {\n      backgroundColor: '#6b8e23',\n      width: 85\n    },\n    title: \"Close\",\n    onPress: function onPress() {\n      setModalOpen(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }), React.createElement(HouseRentForm, {\n    addApt: addApt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }))), React.createElement(Button, {\n    style: {\n      marginBottom: 15\n    },\n    icon: React.createElement(Icon, {\n      name: \"plus\",\n      size: 24,\n      color: \"white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }),\n    buttonStyle: {\n      backgroundColor: '#6b8e23',\n      width: 200\n    },\n    title: \"New House Available to Lease\",\n    onPress: function onPress() {\n      setModalOpen(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), React.createElement(FlatList, {\n    data: apts,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate('ApartmentDetails', {\n            item: item\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, React.createElement(Icon.Button, {\n        name: \"close\",\n        size: \"1000\",\n        backgroundColor: \"black\",\n        onPress: function onPress() {\n          deleteItem(item.key);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }\n      }), React.createElement(Text, {\n        style: styles.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }\n      }, item.address)));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 15,\n    flex: 1,\n    alignItems: 'center'\n  },\n  backgroundImage: {\n    flex: 5,\n    height: '100%',\n    width: '100%',\n    resizeMode: 'cover'\n  },\n  modalContent: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalToggle: {\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: '#f2f2f2',\n    padding: 10,\n    borderRadius: 10,\n    alignSelf: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/klliu/Desktop/WalthamForum/client/components/Housing.js"],"names":["React","useState","useEffect","useStickyState","Modal","NavigationContainer","createStackNavigator","Card","Button","Icon","HouseRentForm","ApartmentDetails","background","useAsyncStorage","Housing","route","navigation","modalOpen","setModalOpen","name","phone","email","address","bedroom","bathroom","price","startDate","endDate","comment","apts","setApts","getItem","setItem","readItemFromStorage","item","newValue","JSON","parse","writeItemToStorage","stringify","addApt","apt","key","Math","random","toString","deleteItem","newApts","filter","x","styles","backgroundImage","container","modelContent","marginRight","backgroundColor","width","marginBottom","navigate","title","StyleSheet","create","marginTop","flex","alignItems","height","resizeMode","modalContent","justifyContent","modalToggle","borderWidth","borderColor","padding","borderRadius","alignSelf"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport useStickyState from '../useStickyState.js';\nimport { Text, View,StyleSheet, Image, ImageBackground, FlatList, TouchableOpacity} from 'react-native';\nimport Modal from 'modal-react-native-web';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport Card from '../container/Card.js';\nimport { Button } from 'react-native-elements';\nimport Icon from 'react-native-vector-icons/FontAwesome';\nimport HouseRentForm from \"../container/HouseRentForm\";\nimport ApartmentDetails from './ApartmentDetails.js';\nimport background from '../assets/street.jpg';\nimport { useAsyncStorage } from '@react-native-community/async-storage';\n\nexport default function Housing({ route, navigation }) {\n\n  const[modalOpen, setModalOpen] = useState(false);\n\n  const [apts, setApts] = useState([\n    {name:'sample', phone:'0000000000', email:'sample@gmail.com', address:'000 Sample Street',\n    bedroom:'0', bathroom:'0', price:'0000', startDate:'1/1', endDate:'1/2', comment:'My house is good!'},\n  ]);\n\n  const { getItem, setItem } = useAsyncStorage('counter');\n\n  const readItemFromStorage = async () => {\n    const item = await getItem();\n    const newValue = JSON.parse(item);\n    setApts(newValue);\n  };\n\n  const writeItemToStorage = async newValue => {\n    await setItem(JSON.stringify(newValue));\n    setApts(newValue);\n  };\n\n  useEffect(() => {\n    readItemFromStorage();\n  }, []);\n\n  const addApt = (apt) => {\n    apt.key = Math.random().toString();\n    writeItemToStorage([apt,...apts]);\n    setModalOpen(false);\n  }\n\n  const deleteItem = (key) => {\n    const newApts = apts.filter(x => x.key!=key);\n    writeItemToStorage(newApts);\n  }\n\n  return(\n    <ImageBackground source={background} style={styles.backgroundImage}>\n    <View style = {styles.container}>\n      <Modal visible={modalOpen} animationType='slide'>\n        <View style={styles.modelContent}>\n          <Button\n            icon={\n              <Icon style = {{marginRight:4}}\n                name=\"close\"\n                size={24}\n                color=\"white\"\n              />\n            }\n            buttonStyle={{backgroundColor: '#6b8e23',width:85}}\n            title=\"Close\"\n            onPress={() => {setModalOpen(false)}}\n          />\n          <HouseRentForm  addApt={addApt} />\n        </View>\n      </Modal>\n\n      <Button style = {{marginBottom:15}}\n        icon={\n          <Icon\n            name=\"plus\"\n            size={24}\n            color=\"white\"\n          />\n        }\n        buttonStyle={{backgroundColor: '#6b8e23',width:200}}\n        title=\"New House Available to Lease\"\n        onPress={() => {setModalOpen(true)}}\n      />\n\n      <FlatList\n        data={apts}\n        renderItem={({ item }) => (\n          <TouchableOpacity onPress={() => navigation.navigate('ApartmentDetails', {item})}>\n            <Card>\n              <Icon.Button\n                name=\"close\"\n                size='1000'\n                backgroundColor=\"black\"\n                onPress={() => {deleteItem(item.key)}}\n              >\n              </Icon.Button>\n              <Text style={styles.title}>{ item.address }</Text>\n            </Card>\n          </TouchableOpacity>\n        )}\n      />\n\n    </View>\n    </ImageBackground>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop:15,\n    flex: 1,\n    alignItems: 'center',\n  },\n  backgroundImage: {\n    flex: 5,\n    height:'100%',\n    width:'100%',\n    resizeMode:'cover',\n  },\n  modalContent: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent:'center',\n  },\n  modalToggle: {\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: '#f2f2f2',\n    padding: 10,\n    borderRadius: 10,\n    alignSelf: 'center',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}